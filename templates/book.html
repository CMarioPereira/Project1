{% extends "layout.html" %}

{% block title %}
    My Account
{% endblock %}

{% block stylesheet %}
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="{{ url_for('static', filename='style2.css') }}">
{% endblock %}

{% block bottom %}
  <button type="button" class="btn btn-warning">Logout</button>
{% endblock %}

{% block body %}
<div class="container">
    <h1>{{ book.title }}</h1>

    <table>
      <tr>
        <th>Author:</th> <td>{{ book.author }}</td>
      </tr>
      <tr>
        <th>Year:</th> <td>{{ book.year }}</td>
      </tr>
      <tr>
        <th>ISBN:</th> <td>{{ book.isbn }}</td>
      </tr>
      <tr>
        <th>Rating:</th> <td>{{ book.stars }}</td>
      </tr>
      <tr>
        <th>Reviews:&nbsp &nbsp</th> <td>{{ book.review_count }}</td>
      </tr>
    </table>

    <span class="heading">User Rating</span>
  {% for i in range(stars) %}
    <span class="fa fa-star checked"></span>
  {% endfor %}
  {% if stars != 5 %}
    {% for i in range(5-stars) %}
      <span class="fa fa-star"></span>
    {% endfor %}
  {% endif %}
    <p>  {{ good_reads['average_rating'] }} average based on {{ good_reads['reviews_count'] }} reviews. Data obtained from
      <a href="https://www.goodreads.com/">Good Reads</a>.</p>
    <hr style="border:3px solid #f1f1f1">

    <form id="makeReview">
      <div class="form-group">
        <label for="exampleFormControlTextarea1"><h4>Make a review</h4></label>
        <textarea class="form-control" id="exampleFormControlTextarea1" rows="5"></textarea>
      </div>

    <div class="form-row align-items-center">
      <div class="col-auto">
        <h5>Stars: </h5>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="option1">
        <label class="form-check-label" for="inlineRadio1">1</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio2" value="option2">
        <label class="form-check-label" for="inlineRadio2">2</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio3" value="option3">
        <label class="form-check-label" for="inlineRadio2">3</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio4" value="option4">
        <label class="form-check-label" for="inlineRadio2">4</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio5" value="option5">
        <label class="form-check-label" for="inlineRadio2">5</label>
      </div>
      <button type="submit" class="btn btn-dark">Submit</button>
    </div>

    </form>

  {% if reviews != [] %}
    <h4>Reviews</h4>
    {% for review in reviews %}
    <div class="review">
      <div class="row">
          <div class="col-6">
              <h6>@{{ review.user_id }}:</h6>
          </div>
          <div class="col-6" id="data">
              {{ review.date }}
          </div>
      </div>
      <p> {{ review.text }} </p>
    </div>
    {% endfor %}
  {% endif %}

</div>

{% endblock %}
